<section class="hot-sales">

    <div class="row" *ngFor="let config of hotConfig">
        <div class="col-sm-12 col-md-6 ">
            <div class="card-most">
                <img  class="most-saled img-fluid"
                src="{{config.elegidoDelMes}}" 
                alt="Most Saled">
            </div>
        </div>
        <div class="col-sm-12 col-md-6 hovered ">
            <div class="row">
                <div class="col-6 ">
                    <div class="card-recomend">
                        <img class="img-inside img-fluid" 
                        src="{{config.masVendido1}}" 
                        alt="Most Saled">
                    </div>
                </div>
                <div class="col-6 ">
                    <div class="card-recomend">
                        <img class="img-inside img-fluid" 
                        src="{{config.masVendido2}}" 
                        alt="Most Saled">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-6 ">
                    <div class="card-recomend">
                        <img class="img-inside img-fluid" 
                        src="{{config.masVendido3}}" 
                        alt="Most Saled">
                    </div>
                </div>
                <div class="col-6 ">
                    <div class="card-recomend">
                        <img class="img-inside img-fluid" 
                        src="{{config.masVendido4}}" 
                        alt="Most Saled">
                    </div>
                </div>
            </div>
        </div>
        <div class="btn-edit">
            <button *ngIf="isAdmin"
            (click)="openEdit(editConfig, config)"
            class="btn btn-danger btn-sm gap-1 mt-2"
            >Editar Elegidos <i class="fa-solid fa-pen"></i
        ></button> 
        </div>
    </div>

</section>

<!-- Modal Editar imagenes Más Vendidos -->

<ng-template #editConfig let-modal>
    <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title2">Editar Sección Más Vendidos</h4>
    <button
        type="button"
        class="btn-close"
        aria-label="Close"
        (click)="modal.dismiss('Cross click')"
    >
    </button>
    </div>
    <div class="modal-body">
    <form [formGroup]="editForm" #f="ngForm">

        <div class="form-group">
            <mat-form-field  appearance="outline" >
                <mat-label for="elegidoDelMes">Elegido del Mes</mat-label>
                <div class="input-group">
                    <input matInput class="form-group"
                    formControlName="elegidoDelMes"
                    name="elegidoDelMes" class="form-control" required/>
                    <img src="{{this.editForm.value.elegidoDelMes}}" height="100px">        
                </div>
            </mat-form-field>
        </div>
        <div  *ngIf="elegidoDelMesField!.errors && (elegidoDelMesField!.dirty || elegidoDelMesField!.touched)">
            <div class="error mb-4" *ngIf="elegidoDelMesField!.hasError('required')">
              * Imagen Requerida en formato URL
            </div>
        </div>

        <div class="form-group">
            <mat-form-field appearance="outline" >
                <mat-label for="masVendido1">Primer Más Vendido</mat-label>
                <div class="input-group">
                    <input matInput type="text" 
                    formControlName="masVendido1" 
                    name="masVendido1" class="form-control" 
                    required/>
                    <img src="{{this.editForm.value.masVendido1}}" height="100px">
                </div>
            </mat-form-field>
        </div>
        <div  *ngIf="masVendido1Field!.errors && (masVendido1Field!.dirty || masVendido1Field!.touched)">
            <div class="error mb-4" *ngIf="masVendido1Field!.hasError('required')">
              * Imagen Requerida en formato URL
            </div>
        </div>

        <div class="form-group">
            <mat-form-field appearance="outline" >
                <mat-label for="masVendido2">Segundo Más Vendido</mat-label>
                <div class="input-group">
                    <input matInput type="text" 
                    formControlName="masVendido2" 
                    name="masVendido2" class="form-control" 
                    required/>
                    <img src="{{this.editForm.value.masVendido2}}" height="100px">
                </div>               
            </mat-form-field>
        </div>
        <div  *ngIf="masVendido2Field!.errors && (masVendido2Field!.dirty || masVendido2Field!.touched)">
            <div class="error mb-4" *ngIf="masVendido2Field!.hasError('required')">
              * Imagen Requerida en formato URL
            </div>
        </div>

        <div class="form-group">
            <mat-form-field appearance="outline" >
                <mat-label for="masVendido3">Tercer Más Vendido</mat-label>
                <div class="input-group">
                    <input matInput
                    formControlName="masVendido3"
                    name="masVendido3" 
                    class="form-control" 
                    required/>
                    <img src="{{this.editForm.value.masVendido3}}" height="100px">
                </div>
            </mat-form-field>
        </div>
        <div  *ngIf="masVendido3Field!.errors && (masVendido3Field!.dirty || masVendido3Field!.touched)">
            <div class="error mb-4" *ngIf="masVendido3Field!.hasError('required')">
              * Imagen Requerida en formato URL
            </div>
        </div>

        <div class="form-group">
            <mat-form-field appearance="outline" >
                <mat-label for="masVendido4">Cuarto Más Vendido</mat-label>
                <div class="input-group">
                    <input matInput type="text" 
                    formControlName="masVendido4" 
                    name="masVendido4" 
                    class="form-control" 
                    required/>
                    <img src="{{this.editForm.value.masVendido4}}" height="100px">
                </div>              
            </mat-form-field>
        </div>
        <div  *ngIf="masVendido4Field!.errors && (masVendido4Field!.dirty || masVendido4Field!.touched)">
            <div class="error mb-4" *ngIf="masVendido4Field!.hasError('required')">
              * Imagen Requerida en formato URL
            </div>
        </div>

    </form>

    <div class="modal-footer">

        <button
        type="button"
        class="btn btn-primary"
        (click)="modal.close('Save click')"
        >
        Cerrar
        </button>
        <button data-dismiss="modal" class="btn btn-danger" (click)="onSave()" [disabled]="!editForm.valid">
        Actualizar
        </button>
    </div>
    </div>
</ng-template>
